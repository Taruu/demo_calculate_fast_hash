(function(e){function t(t){for(var s,a,o=t[0],l=t[1],c=t[2],h=0,f=[];h<o.length;h++)a=o[h],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&f.push(n[a][0]),n[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],s=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(s=!1)}s&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var s={},n={app:0},i=[];function a(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=s,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[r("div",{staticClass:"d-flex align-center"},[e._v(" Hash Demo ")]),r("v-spacer")],1),r("v-main",[r("LoadFile")],1)],1)},i=[],a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}}),r("v-col",{staticClass:"mb-4 text-center"},[r("h1",{staticClass:"display-2 font-weight-bold mb-3"},[e._v(" Simple demo fast hash calculation ")]),r("p",{staticClass:"subheading font-weight-regular"},[e._v(" A simple example of a quick hash calculation using xxhash. In most supported browsers ")])]),r("v-col",{attrs:{cols:"12"}},[r("h2",{staticClass:"headline text-center font-weight-bold mb-3"},[e._v(" Select you files ")]),r("v-row",{staticClass:"mx-lg-16 mx-1 mx-lg-auto"},[r("v-file-input",{attrs:{color:"deep-purple accent-4",counter:"",label:"File input",multiple:"",placeholder:"Select your files","prepend-icon":"mdi-paperclip",outlined:"","show-size":1e3},scopedSlots:e._u([{key:"selection",fn:function(t){var s=t.index,n=t.text;return[s<2?r("v-chip",{attrs:{color:"deep-purple accent-4",dark:"",label:"",small:""}},[e._v(" "+e._s(n)+" ")]):2===s?r("span",{staticClass:"text-overline grey--text text--darken-3 mx-2"},[e._v(" +"+e._s(e.files.length-2)+" File(s)")]):e._e()]}}]),model:{value:e.files,callback:function(t){e.files=t},expression:"files"}})],1)],1),r("v-col",[r("v-progress-linear",{attrs:{color:"blue-grey",height:"60"},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}},[[r("strong",[e._v(e._s(this.nowFileObj.name+" "+this.file_size_str(this.progressNow)+" / "+this.file_size_str(this.progressMax)))])]],2)],1),r("v-col",{staticClass:"mb-5 text-center",attrs:{cols:"12"}},[r("h2",{staticClass:"headline font-weight-bold mb-3"},[r("v-btn",{attrs:{loading:e.startCalc,large:"","x-large":"",color:"primary"},on:{click:e.start}},[e._v("Start")])],1)]),r("v-col",[r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"auto",tile:""}},[r("v-card-title",[e._v(e._s(this.doneFiles.length)+"/"+e._s(this.files.length))]),e._l(e.doneFiles,(function(t){return r("v-list-item",{key:t.file.name,attrs:{"three-line":""}},[r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(""+t.file.name))]),r("v-list-item-subtitle",[e._v(" File hash: "+e._s(t.hash)+" ")]),r("v-list-item-subtitle",[e._v(" "+e._s("File size: "+e.file_size_str(t.file.size)+" Time: "+t.time+"s.")+" ")])],1)],1)}))],2)],1)],1)],1)},o=[],l=(r("b680"),r("3835")),c=r("b85c"),u=r("1da1"),h=r("d4ec"),f=r("bee2"),p=(r("d3b7"),r("5cc6"),r("907a"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("fb6a"),r("25f0"),r("ddb0"),r("99af"),r("96cf"),r("61b8")),d=function(){function e(t,r,s,n,i){Object(h["a"])(this,e),void 0===i&&(i=128e6),this.callbackFile=s,this.nowFile=n,this.setProgressMax=t,this.setProgressNow=r,this.chunkSize=i,this.hashWorker=void 0,this.listFiles=[],this.nowChunk=0,this.fileReader=new FileReader}return Object(f["a"])(e,[{key:"createWorker",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["a"])();case 2:t=e.sent,r=t.create64,this.hashWorker=r;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"readUint8Array",value:function(e){var t=this.fileReader,r=this.setProgressNow,s=this.chunkSize*this.nowChunk;return new Promise((function(n){t.onprogress=function(e){r(s+e.loaded)},t.onload=function(){n(new Uint8Array(t.result))},t.readAsArrayBuffer(e)}))}},{key:"addFile",value:function(e){this.listFiles.push(e)}},{key:"setFiles",value:function(e){this.listFiles=e}},{key:"sliceFile",value:function(e){for(var t=[],r=0,s=Math.round(e.size/this.chunkSize)+1,n=0;n<s;n++){r=n*this.chunkSize;var i=r+this.chunkSize;i>e.size&&(i=e.size),t.push(e.slice(r,i))}return t}},{key:"calcHash",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r,s,n,i,a,o,u,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=this.sliceFile(t),s=this.hashWorker(),n=[],i=Object(c["a"])(r.entries()),e.prev=4,i.s();case 6:if((a=i.n()).done){e.next=15;break}return o=Object(l["a"])(a.value,2),u=o[0],h=o[1],this.nowChunk=u,e.next=11,this.readUint8Array(h);case 11:n=e.sent,s.update(n);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](4),i.e(e.t0);case 20:return e.prev=20,i.f(),e.finish(20);case 23:return e.abrupt("return",s.digest().toString(16));case 24:case"end":return e.stop()}}),e,this,[[4,17,20,23]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startHashCalculation",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,s,n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.listFiles.concat(),r="",s=Object(c["a"])(t),e.prev=3,s.s();case 5:if((n=s.n()).done){e.next=17;break}return i=n.value,a=new Date,this.setProgressMax(i.size),this.nowFile(i),e.next=12,this.calcHash(i);case 12:r=e.sent,this.setProgressNow(i.size),this.callbackFile(i,r,(new Date-a)/1e3);case 15:e.next=5;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](3),s.e(e.t0);case 22:return e.prev=22,s.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[3,19,22,25]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),v={name:"LoadFile",created:function(){this.hashWorker=new d(this.max_progress,this.now_progress,this.file_done,this.now_file),this.hashWorker.createWorker().then()},computed:{progress:function(){return Math.round(this.progressNow/this.progressMax*100)}},watch:{files:function(){this.hashWorker.setFiles(this.files)},doneFiles:function(){this.doneFiles.length===this.files.length&&(this.startCalc=!1)}},methods:{start:function(){this.hashWorker.startHashCalculation().then(),this.doneFiles=[],this.startCalc=!0},file_done:function(e,t,r){console.log(this.doneFiles),console.log(e,t,r),this.doneFiles.push({file:e,hash:t,time:r})},now_progress:function(e){this.progressNow=e},max_progress:function(e){this.progressMax=e},now_file:function(e){this.nowFileObj=e},file_size_str:function(e){var t="";return t=e>1073741824?"".concat((e/1073741824).toFixed(2)," GB"):e>1048576?"".concat((e/1048576).toFixed(2)," MB"):"".concat((e/1024).toFixed(2)," KB"),t}},data:function(){return{nowFileObj:new File([],""),progressMax:0,progressNow:0,files:[],doneFiles:[],startCalc:!1,hashWorker:void 0}}},b=v,g=r("2877"),m=r("6544"),w=r.n(m),x=r("8336"),_=r("b0af"),k=r("99d9"),y=r("cc20"),F=r("62ad"),C=r("a523"),O=r("23a7"),j=r("da13"),S=r("5d23"),z=r("8e36"),V=r("0fd9"),M=Object(g["a"])(b,a,o,!1,null,null,null),P=M.exports;w()(M,{VBtn:x["a"],VCard:_["a"],VCardTitle:k["a"],VChip:y["a"],VCol:F["a"],VContainer:C["a"],VFileInput:O["a"],VListItem:j["a"],VListItemContent:S["a"],VListItemSubtitle:S["b"],VListItemTitle:S["c"],VProgressLinear:z["a"],VRow:V["a"]});var R={name:"App",components:{LoadFile:P},data:function(){return{}}},W=R,A=r("7496"),L=r("40dc"),N=r("f6c4"),B=r("2fa4"),I=Object(g["a"])(W,n,i,!1,null,null,null),T=I.exports;w()(I,{VApp:A["a"],VAppBar:L["a"],VMain:N["a"],VSpacer:B["a"]});var H=r("f309");s["a"].use(H["a"]);var D=new H["a"]({});s["a"].config.productionTip=!1,new s["a"]({vuetify:D,render:function(e){return e(T)}}).$mount("#app")}});
//# sourceMappingURL=app.93f71f61.js.map